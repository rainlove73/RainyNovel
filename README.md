# -RainyNovel番茄小说在线阅读-
  番茄小说web端

  通过web工具，实现番茄小说免费网页阅读，无需客户端，支持小说下载功能。

# -开源来源-
  原始脚本来源: https://greasyfork.org/zh-CN/scripts/476688
  
  由雨萘（Naiy_）二次深度重构，仓库主页地址：https://github.com/helloplhm-qwq
  
  目前文件由rainlove73（阴雨天我也独行）优化，个人仓库：https://github.com/rainlove73

# -优化内容-
 * 1. 添加html文件交互动画（目前无已知问题）
 * 2. 优化雨蔡部分注释，使其更直观明了
 * 3. 修复html暗色模式下下载小说页面不显示封面的问题
 * 4. 基于对原作者的尊重，web文件默认文档地址为：https://github.com/helloplhm-qwq
  
## 项目背景
本项目为 [番茄Web模块]的 Python 重构实现，在完整保留原有功能和接口的基础上进行扩展。

## 部署指南（原作者留）

### 环境配置
```bash
# 方案一：使用 Poetry 管理
poetry install --no-dev

# 方案二：使用 pip 直接安装
pip install -r requirements.txt
```

### 启动方式
```bash
# 标准启动
python main.py

# 使用 PM2 进程管理
pm2 start npm --name "pyfqweb" -- start
```

## API 接口规范

### 核心端点

| 功能分类 | 端点路径                                 | HTTP 方法 | 参数说明                                                                 |
|----------|------------------------------------------|-----------|--------------------------------------------------------------------------|
| 搜索     | `/search`                                | GET       | `query`: 关键词<br>`offset=0`: 分页偏移量（计算式：(page-1)*10）<br>`tab_type=3`: 搜索类型（默认书籍）           |
| 书籍元数据 | `/info`<br>`/detail`                   | GET       | `book_id`: 书籍唯一标识符                                                |
| 目录结构 | `/catalog`<br>`/directory/all_items`    | GET       | `book_id`: 书籍唯一标识符                                                |
| 内容获取 | `/content`                              | GET       | `item_id`: 章节ID<br>`text_mode=false`: [bool]纯文本模式<br>`image_mode=true`: [bool]图片包含 |
| 批量操作 | `/multi-content`<br>`/multi-detail`     | GET       | `book_id`: 书籍ID（必须）<br>`item_ids`: 逗号分隔的ID列表（仅multi-content）                        |
| 正文预览 | `/item-summary`                         | GET       | `book_id`: 书籍ID<br>`item_ids`: 逗号分隔的章节ID列表                   |
| 听书服务 | `/audio`                                | GET       | `item_ids`: 音频ID列表                                                   |
| 短剧服务 | `/video`                                | GET       | `item_ids`: 视频ID列表                                                   |
| 接口信息 | `/self-info`                            | GET       | 无                                       |

### 扩展接口
```markdown
对于未明确列出的API端点，支持通过以下方式调用：
- 请求路径：保持与官方API一致
- 参数规范：遵循原始请求参数
- 请求体格式：保持与官方API一致
```


# -项目协议-


  本项目依照 [GPLv3](https://www.gnu.org/licenses/gpl-3.0.html) 协议分发，附加条款与GPLv3冲突时，以下条款优先适用

词语约定：本协议中的“本项目”指 番茄小说web阅读 项目；“使用者”指签署本协议的使用者；“官方小说平台”指对本项目可能读取的包括番茄、头条、抖音等官方平台统称；“版权数据”指包括但不限于图像、文字、名字等在内的他人拥有所属版权的数据。

一、数据来源

1.1 本项目的各官方平台在线数据来源原理是从其公开服务器中拉取数据（与未登录状态在官方平台 APP 获取的数据相同，大多为番茄小说、今日头条等平台的公开接口），经过对数据简单地筛选与合并后进行展示，因此本项目不对数据的合法性、准确性负责。

1.2 本项目本身没有获取某个小说数据的能力，本项目使用的在线小说数据来源来自js内“自定义源”设置所选择的“源”返回的在线链接。例如读取小说内容（包含但不限于下载），本项目所做的只是将希望阅读的小说名称、作者等信息传递给“源”，若“源”返回了一个链接，则本项目将认为这就是该小说的文本数据而进行使用，至于这是不是正确的文本数据本项目无法校验其准确性，所以使用本项目的过程中可能会出现希望阅读的小说与实际阅读的小说不对应或者无法搜索的问题。

1.3 本项目的非官方平台数据，而是来自使用者本地系统或者使用者连接的同步服务，本项目不对这些数据的合法性、准确性负责。

二、版权数据

2.1 使用本项目的过程中可能会产生版权数据。对于这些版权数据，本项目不拥有它们的所有权。为了避免侵权，使用者务必在 **24 小时内** 清除使用本项目的过程中所产生的版权数据。

三、小说平台别名

3.1 本项目内的官方小说平台别名为本项目内对官方小说平台的一个称呼，不包含恶意。如果官方小说平台觉得不妥，可联系本项目更改或移除。

四、资源使用

4.1 本项目内使用的部分包括但不限于字体、图片等资源来源于互联网。如果出现侵权可联系本项目移除。

五、免责声明

5.1 由于使用本项目产生的包括由于本协议或由于使用或无法使用本项目而引起的任何性质的任何直接、间接、特殊、偶然或结果性损害（包括但不限于因商誉损失、停工、计算机故障或故障引起的损害赔偿，或任何及所有其他商业损害或损失）由使用者负责。

六、使用限制

6.1 本项目完全免费，且开源发布于 GitHub 面向全世界人用作对技术的学习交流。本项目不对项目内的技术可能存在违反当地法律法规的行为作保证。

6.2 **禁止在违反当地法律法规的情况下使用本项目。
    ** 对于使用者在明知或不知当地法律法规不允许的情况下使用本项目所造成的任何违法违规行为由使用者承担，本项目不承担由此造成的任何直接、间接、特殊、偶然或结果性责任。

七、版权保护

7.1 小说平台不易，请尊重版权，支持正版。

八、非商业性质

8.1 本项目仅用于对技术可行性的探索及研究，不接受任何商业（包括但不限于广告等）合作及捐赠。

九、接受协议

9.1 若你使用了本项目，即代表你接受本协议。

* 若协议更新，恕不另行通知，可到开源地址查看。

By: rainy solo（阴雨天我也独行）📘

# -与我交流吧-
若对此有疑问请 mail to: liyihang73+gmail.com (请将 + 替换为 @)

ks:阴雨天我也独行

Tiktak：阴雨天我也独行

B站：rainy solo（用户名可能已更改）

小红薯：阴雨天我也独行
